ibmcloud_api_key = "TU_API_KEY_AQUI"

region = "us-south"
zone   = "us-south-1"

# ID del Resource Group (opcional, si no se especifica usa el default)
# resource_group_id = "xxxxxxxxxxxxxxxxxxxx"

prefix = "langflow"

tags = ["terraform", "langflow", "dev"]


# Número de IPs en la subnet (8, 16, 32, 64, 128, 256, 512, 1024, etc.)
subnet_ip_count = 256

# CIDR permitido para SSH (usa tu IP pública para mayor seguridad)
# Ejemplo: ssh_allowed_cidr = "203.0.113.0/24"
ssh_allowed_cidr = "0.0.0.0/0"

# CIDR permitido para acceso a Langflow
langflow_allowed_cidr = "0.0.0.0/0"

# Public Gateway (deshabilitado por defecto)
enable_public_gateway = false

# Número de VSIs a crear
# Cada VSI = 1 Langflow + 1 PostgreSQL (múltiples usuarios en paralelo)
# Para escalar: solo cambia este número (ej. 2 → 10 VSIs)
# Costo por VSI (cx2-2x4): ~$65/mes
vsi_count = 2

# Perfil de VSI (CPU y RAM)
# Recomendado: cx2-2x4 (2 vCPU, 4GB RAM) ~$65/mes por VSI
# Para más carga: cx2-4x8 (4 vCPU, 8GB RAM) ~$130/mes por VSI
vsi_profile = "cx2-2x4"

# Sistema operativo
os_image_name = "ibm-ubuntu-22-04-3-minimal-amd64-1"

# Tu clave pública SSH (debe ser RSA para IBM Cloud)
# Opción 1: Usa la clave del proyecto (ssh-key-langflow.pub)
# Ejecuta: cat ssh-key-langflow.pub
# Opción 2: Usa tu propia clave (recomendado): cat ~/.ssh/id_rsa.pub
ssh_public_key = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCugGbtzIB9tUmlFJJ/mtci1GQbbhuKPqR+V1x1h4mNe2aqFa+bE+DRm+s8VeXVil2axzPwOQ30CbEriV+YMp6eUxHuJUV4LIG9w73x9fpCkkmMgpbotqXni73pzDM2ve1y9b8faxVHNfHJEPOwNuD0AySs+/MDqMUcm2NM3xh/xkHYTdkQwourKgkkpurnRdVLIR5TExy3YP4h3S+zQ98OeJ54PeWwde2Qjgu4xR3WuBfuaMtlnfpCaeZL7EtXI4+2qN3hvg9dqkaFR9lHRINY9HmRaS2VpC1hPkJji7MwbHQ/EjdnokYhS7CKh+GJERYdKz2clohRL9MyyDuZ2rhkrAunV3AUQXnTEKlw5/03G2ETqqQlCnNqwoANhTmVq11nufI5F1N1pPmwWfoqJpAOulJjWB/nZ6ldSYMNbXSnx7PrFLIvMnqF8fo7KMUK6cmCLPMpfEF0NI9ljJ5oSN6HbzGMU9JnNSQVBmylqaThfOA13/MiTotbbYuo3WKyevnTXZvRqNVWslom0jtkGtqb3bNitFUIPx0uUvKqOfXKV/fvN9lxLSy0aZ0IToUBQhDRdXCF7RiB4Eelmp/3+YQz1hQ+y7rRvbwOuzP4LV9iqAp0fRAgEUCgzoab7pjHUjWP1Xs/NyMbqNAzIiPsPJ6qqtRcDmaLqZWCC37brnFtsQ== langflow-infra-key"

# API Key para Langflow (OpenAI, Anthropic, Google, etc.)
# Esta clave se configurará automáticamente como variable global en Langflow
# Podrás usarla en tus flows con: {{API_KEY}}
api_key = "sk-proj-tu-api-key-aqui"

# Ruta al template de cloud-init
cloud_init_template_path = "cloud-init.yaml.tpl"

# Crear Floating IPs para acceso público
enable_floating_ips = true

# Habilitar Langflow
langflow_enabled = true

# Número de instancias de Langflow por VSI
# 1 instancia = Suficiente para múltiples usuarios simultáneos
# 2+ instancias = Para alta disponibilidad o balance de carga
# Ejemplo: 1 VSI × 1 instancia = 1 Langflow (múltiples usuarios pueden usarlo)
langflow_instances_per_vsi = 1

# Puerto base para Langflow (se incrementará automáticamente: 7861, 7862, 7863...)
langflow_base_port = 7861